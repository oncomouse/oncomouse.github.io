var RevealNotes=function(){function e(){function e(e){var t,n=Reveal.getCurrentSlide();if("slidechanged"===e){var i,a,s=n.querySelector("aside.notes"),o=Reveal.getIndices().h,l=Reveal.getIndices().v;n.nextElementSibling&&"SECTION"==n.parentNode.nodeName?(i=o,a=l+1):(i=o+1,a=0),t={notes:s?s.innerHTML:"",indexh:o,indexv:l,nextindexh:i,nextindexv:a,markdown:s?"string"==typeof s.getAttribute("data-markdown"):!1}}else"fragmentshown"===e?t={fragment:"next"}:"fragmenthidden"===e&&(t={fragment:"prev"});r.postMessage(JSON.stringify(t),"*")}var t=document.querySelector('script[src$="notes.js"]').src;t=t.replace(/notes\.js(\?.*)?$/,"");var r=window.open(t+"notes.html","reveal.js - Notes","width=1120,height=850");Reveal.addEventListener("slidechanged",function(){e("slidechanged")}),Reveal.addEventListener("fragmentshown",function(){e("fragmentshown")}),Reveal.addEventListener("fragmenthidden",function(){e("fragmenthidden")}),r.addEventListener("load",function(){e("slidechanged")},!1)}return null!==window.location.search.match(/(\?|\&)notes/gi)&&e(),document.addEventListener("keydown",function(t){null!==document.querySelector(":focus")||t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||83===t.keyCode&&(t.preventDefault(),e())},!1),{open:e}}();
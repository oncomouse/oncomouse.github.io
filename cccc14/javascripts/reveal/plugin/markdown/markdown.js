!function(){if("undefined"==typeof marked)throw"The reveal.js Markdown plugin requires marked to be loaded";var e=function(e){var t=e.querySelector("script"),r=(t||e).textContent,n=r.match(/^\n?(\s*)/)[1].length,a=r.match(/^\n?(\t*)/)[1].length;return a>0?r=r.replace(new RegExp("\\n?\\t{"+a+"}","g"),"\n"):n>1&&(r=r.replace(new RegExp("\\n? {"+n+"}","g"),"\n")),r},t=function(e){return'<script type="text/template">'+e+"</script>"},r=function(e){for(var t=e.attributes,r=[],n=0,a=t.length;a>n;n++){var i=t[n].name,o=t[n].value;/data\-(markdown|separator|vertical)/gi.test(i)||(o?r.push(i+"="+o):r.push(i))}return r.join(" ")},n=function(e,r,n,a){r=r||"^\n---\n$";for(var i,o,s,c=new RegExp(r+(n?"|"+n:""),"mg"),l=new RegExp(r),u=0,d=!0,m=[],g="";i=c.exec(e);)o=l.test(i[0]),!o&&d&&m.push([]),s=e.substring(u,i.index),o&&d?m.push(s):m[m.length-1].push(s),u=c.lastIndex,d=o;(d?m:m[m.length-1]).push(e.substring(u));for(var p=0,b=m.length;b>p;p++)g+="string"==typeof m[p]?"<section "+a+" data-markdown>"+t(m[p])+"</section>":"<section "+a+">"+"<section data-markdown>"+m[p].map(t).join("</section><section data-markdown>")+"</section>"+"</section>";return g},a=function(){for(var t,a=document.querySelectorAll("[data-markdown]"),i=0,o=a.length;o>i;i++)if(t=a[i],t.getAttribute("data-markdown").length){var s=new XMLHttpRequest,c=t.getAttribute("data-markdown");s.onreadystatechange=function(){4===s.readyState&&(t.outerHTML=s.status>=200&&s.status<300?n(s.responseText,t.getAttribute("data-separator"),t.getAttribute("data-vertical"),r(t)):'<section data-state="alert">ERROR: The attempt to fetch '+c+" failed with the HTTP status "+s.status+". Check your browser's JavaScript console for more details."+"<p>Remember that you need to serve the presentation HTML from a HTTP server and the Markdown file must be there too.</p></section>")},s.open("GET",c,!1);try{s.send()}catch(l){alert("Failed to get the Markdown file "+c+". Make sure that the presentation and the file are served by a HTTP server and the file can be found there. "+l)}}else if(t.getAttribute("data-separator")){var u=e(t);t.outerHTML=n(u,t.getAttribute("data-separator"),t.getAttribute("data-vertical"),r(t))}},i=function(){for(var e=document.querySelectorAll("[data-markdown]"),t=0,r=e.length;r>t;t++)o(e[t])},o=function(t){var r=t.querySelector("aside.notes"),n=e(t);t.innerHTML=marked(n),r&&t.appendChild(r)};a(),i()}();